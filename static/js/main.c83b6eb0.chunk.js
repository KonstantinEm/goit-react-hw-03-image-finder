(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),o=n.n(c),r=n(6),i=n.n(r),s=(n(29),n(30),n(8)),l=n(10),u=n.n(l),j=n(21),b=n(4),d=function(e){var t=e.onSubmit,n=e.onChange,c=e.query;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{className:"SearchForm",onSubmit:t,children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:n})]})})})},m=function(e){var t=e.onSubmit,n=Object(c.useState)(""),o=Object(b.a)(n,2),r=o[0],i=o[1],s=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}(r);return Object(a.jsx)(d,{onSubmit:function(e){e.preventDefault(),t(r,null,s),i("")},onChange:function(e){var t=e.target.value;i(t)},query:r})},f=n(12),O=function(e){var t=e.webformatURL,n=e.tags,c=e.largeImageURL,o=e.openModal;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image",onClick:function(){return o(c,n)}})})})},h=function(e){var t=e.imagesCollection,n=e.openModal;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(a.jsx)(O,Object(f.a)(Object(f.a)({},e),{},{openModal:n}),e.id)}))})})},g=function(e){var t=e.loadMore;return Object(a.jsx)("button",{className:"Button",onClick:t,children:"load more"})},p=(n(32),n(22)),x=n.n(p),v=function(){return Object(a.jsx)(x.a,{type:"Rings",height:300,width:300,color:"#3f51b5",style:{marginTop:"10em",marginLeft:"auto",marginRight:"auto"}})},w=function(e){var t=e.modalWindow,n=e.closeModal;return Object(a.jsx)("div",{className:"Overlay",onClick:n,children:Object(a.jsx)("div",{className:"Modal",children:Object(a.jsx)("img",{src:t.url,alt:t.alt})})})},S=function(e){var t=e.modalWindow,n=e.closeModal,o=e.isModal,r=function(e){27===e.keyCode&&n(o)};return Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}})),Object(a.jsx)(w,{modalWindow:t,closeModal:function(e){"IMG"!==e.target.tagName&&n(o)}})},M=function(e){var t=e.onSubmit,n=e.imagesCollection,c=e.loadMore,o=e.loader,r=e.error,i=e.openModal,s=e.modalWindow,l=e.isModal,u=e.closeModal;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m,{onSubmit:t}),o&&Object(a.jsx)(v,{}),r&&Object(a.jsx)("h1",{children:" Something went wrong, try again later"}),!o&&!r&&!!n.length&&Object(a.jsx)(h,{imagesCollection:n,openModal:i}),!!n.length&&!o&&Object(a.jsx)(g,{loadMore:c}),l&&Object(a.jsx)(S,{modalWindow:s,closeModal:u,isModal:l})]})},y=n(23),k=n.n(y).a.create({baseURL:"https://pixabay.com/api"}),C=function(e){return"?".concat(e,"&key=").concat("18839530-4e500f23cd7e38f757fc7d3b1")},N=n(11);n(72);N.a.configure();var F=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),o=n[0],r=n[1],i=Object(c.useState)([]),l=Object(b.a)(i,2),d=l[0],m=l[1],f=Object(c.useState)(!1),O=Object(b.a)(f,2),h=O[0],g=O[1],p=Object(c.useState)(1),x=Object(b.a)(p,2),v=x[0],w=x[1],S=Object(c.useState)(!1),y=Object(b.a)(S,2),F=y[0],I=y[1],E=Object(c.useState)({url:"",alt:""}),L=Object(b.a)(E,2),R=L[0],W=L[1],G=Object(c.useState)(!1),q=Object(b.a)(G,2),T=q[0],U=q[1],B=Object(c.useState)(12),J=Object(b.a)(B,1)[0],_=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,c,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:1,a=o.length>2?o[2]:void 0,t){e.next=5;break}return z(),e.abrupt("return");case 5:if(t!==a){e.next=7;break}return e.abrupt("return");case 7:return r(t),I(!0),e.prev=9,e.next=12,k.get(C("q=".concat(t,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(J)));case 12:c=e.sent,D(a,t,c.data.hits),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),g(!0);case 19:return e.prev=19,I(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[9,16,19,22]])})));return function(t){return e.apply(this,arguments)}}();!function(e,t){Object(c.useEffect)((function(){window.scrollTo(100,0),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[e,t])}(d,F);var z=function(){m([]),w(1),N.a.success("I don't see what you're looking for.")},D=function(e,t,n){e?e===t||m(Object(s.a)(n)):m([].concat(Object(s.a)(d),Object(s.a)(n)))};return Object(a.jsx)(M,{onSubmit:_,imagesCollection:d,loadMore:function(){var e=v+1;_(o,e),w(e)},loader:F,error:h,openModal:function(e,t){W({url:e,alt:t}),U(!0)},modalWindow:R,isModal:T,closeModal:function(e){U(!e)}})};var I=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(F,{})})};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.c83b6eb0.chunk.js.map